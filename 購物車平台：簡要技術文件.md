# 購物車平台：簡要技術文件
## 系統說明
- 使用架構：MVC 之 ajax 
- 3個頁面呈現(.html): 1. product manu 2. cart 3. manager page
- 1個轉接中繼(.py): 1. control
- 1個使用資料庫方法(.py): 1. shopping_mall
- 1個串聯資料庫(.py): 1. dbConfig
- 主要程式碼說明：
    1. **`product manu.html`**: 商品一覽表頁面
        - 功能：提供即時刷新商品欄資訊之按鈕
        - 功能：提供查看購物車頁面之按鈕
        - 功能：條列目前商品詳細資訊（編號、名稱、庫存、介紹）
        - 功能：提供欲加入購物車商品編號/商品數量之輸入
    2. **`cart.html`**: 購物車頁面
        - 功能：提供即時刷新購物車頁面之按鈕
        - 功能：條列所加入購物車之商品詳細資訊（編號、名稱、購買數量、狀態）
        - 功能：提供商品結帳按鈕
        - 功能：提供調整商品購買數量之輸入（依據編號調整）
        - 功能：提供查看商品頁面之按鈕
    3. **`manager page.html`**: 管理員頁面
        - 功能：提供即時刷新商品欄資訊的按鈕
        - 功能：提供「將已結帳之貨品出貨」的按鈕
        - 功能：條列目前商品詳細資訊（編號、名稱、庫存、介紹）
        - 功能：刪除商品（依據編號刪除）
        - 功能：新增全新商品（填入名稱、數量、介紹, 而編號由系統產生）
        - 功能：調整商品數值（依據編號調整）
        - 功能：提供查看商品頁面之按鈕
    4. **`control.py`**
        - 功能：接受前端要求與向後端DB要求資料
        - 功能：將後端資料整理與傳回前端
    5. **`dbConfig.py`**
        - 功能：串聯資料庫格式
    6. **`shopping_mall.py`**
        - 功能：提供使用資料庫所有方法
## 詳細資料庫介紹
### table: products
1. id：商品編號<主鍵>（int(11)）
    - 為自動增加不重複的商品編號
    - 同時也是此資料表的主鍵
2. name：商品名稱（varchar(15)）
3. count：商品數量（int(11)）
4. description：商品介紹（varchar(50)）
### table: cart
1. pk：交易流水號<主鍵>（int(11)）
2. product_id：加入購物車之貨品編號（int(11)）
3. product_name：加入購物車之貨品名稱（varchar(15)）
4. product_count：加入購物車之貨品數量（int(10)）
5. checkout：加入購物車之貨品狀態（varchar(1)）
    - 0：未結帳
    - 1：已結帳，未出貨
## 詳細圖解
![](https://i.imgur.com/6aP0YVV.jpg)
## 詳細功能需求
### 客戶端功能
1. 列出尚有庫存之貨品清單
    - 防呆：只列出還有貨的商品
2. 將貨品加入購物車(pid,pcount)
    - 防呆：想要購買的商品(id)在架上
    - 防呆：架上貨品數量應該要大於等於之前不論結帳與否所購買之數量與這次購買的數量
3. 列出/刪除購物車內之貨品項目
    - 防呆：列出在購物車內詳細資訊（含結帳&未結帳）
    - 防呆：依照商品編號(id)刪除(調count=0)與調整(調count!=0)商品，且結過帳的不能調整
4. 將購物車內容結帳
### 管理端功能
1. 增刪修改貨品項目
    - 防呆：刪除商品依照編號(id)，編號錯誤刪不了
    - 防呆：新增全新商品，名字重複不能新增
    - 防呆：調整商品依照編號(id)，編號錯誤調不了
2. 增加商品庫存(商品入庫)
    - 在上方調整已經有此功能
3. 已結帳購物車出貨(商品出貨改庫存)
    - 功能：只出貨購物車內貨品狀態是已結帳，未出貨的狀態貨品，再更改掉庫存